<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartSelect - Ordinateurs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#f0f9ff",
                100: "#e0f2fe",
                200: "#bae6fd",
                300: "#7dd3fc",
                400: "#38bdf8",
                500: "#0ea5e9",
                600: "#0284c7",
                700: "#0369a1",
                800: "#075985",
                900: "#0c4a6e",
              },
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50">
    <div id="header-container"></div>
    <main>
      <div>
        <div class="mb-8 bg-white p-10 rounded-lg shadow-md" id="filters-container">
          <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-bold text-gray-800">Filtres</h2>
            <button id="reset-filters" class="text-sm text-gray-600 hover:text-primary-600 transition-colors">
              Réinitialiser les filtres
            </button>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Prix -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Prix</label>
              <div class="flex gap-2">
                <div class="relative flex-1">
                  <span class="absolute inset-y-0 left-3 flex items-center text-gray-500">€</span>
                  <input type="number" id="min-price" placeholder="Min" 
                    class="w-full pl-8 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div class="relative flex-1">
                  <span class="absolute inset-y-0 left-3 flex items-center text-gray-500">€</span>
                  <input type="number" id="max-price" placeholder="Max" 
                    class="w-full pl-8 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                </div>
              </div>
            </div>

            <!-- Marque -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Marque</label>
              <select id="manufacturer" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Toutes les marques</option>
                <option value="Acer">Acer</option>
                <option value="Apple">Apple</option>
                <option value="Asus">Asus</option>
                <option value="Dell">Dell</option>
                <option value="HP">HP</option>
                <option value="Lenovo">Lenovo</option>
                <option value="MSI">MSI</option>
                <option value="Microsoft">Microsoft</option>
                <option value="Samsung">Samsung</option>
                <option value="Razer">Razer</option>
                <option value="LG">LG</option>
                <option value="Huawei">Huawei</option>
                <option value="Gigabyte">Gigabyte</option>
                <option value="Toshiba">Toshiba</option>
              </select>
            </div>

            <!-- RAM -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">RAM</label>
              <select id="min-ram" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Toutes les RAM</option>
                <option value="8">8 Go</option>
                <option value="16">16 Go</option>
                <option value="32">32 Go</option>
                <option value="64">64 Go</option>
              </select>
            </div>

            <!-- Stockage -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Stockage</label>
              <select id="storage" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Tout le stockage</option>
                <option value="256">256 Go</option>
                <option value="512">512 Go</option>
                <option value="1000">1 To</option>
                <option value="2000">2 To</option>
              </select>
            </div>

            <!-- Processeur -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Processeur</label>
              <select id="processor" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Tous les processeurs</option>
                <option value="intel_i5">Intel Core i5</option>
                <option value="intel_i7">Intel Core i7</option>
                <option value="intel_i9">Intel Core i9</option>
                <option value="amd_ryzen5">AMD Ryzen 5</option>
                <option value="amd_ryzen7">AMD Ryzen 7</option>
                <option value="amd_ryzen9">AMD Ryzen 9</option>
                <option value="apple_m1">Apple M1</option>
                <option value="apple_m2">Apple M2</option>
              </select>
            </div>

            <!-- Carte graphique -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Carte graphique</label>
              <select id="gpu" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Toutes les cartes</option>
                <option value="integrated">Graphiques intégrés</option>
                <option value="nvidia_rtx">NVIDIA RTX</option>
                <option value="nvidia_gtx">NVIDIA GTX</option>
                <option value="amd_radeon">AMD Radeon</option>
              </select>
            </div>

            <!-- Usage -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Usage</label>
              <select id="usage" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Tous les usages</option>
                <option value="work">Bureautique</option>
                <option value="gaming">Gaming</option>
                <option value="creation">Création de contenu</option>
                <option value="student">Étudiant</option>
              </select>
            </div>

            <!-- Taille d'écran -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Taille d'écran</label>
              <select id="screen-size" 
                class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="">Toutes les tailles</option>
                <option value="13">13"</option>
                <option value="14">14"</option>
                <option value="15">15"</option>
                <option value="16">16"</option>
                <option value="17">17"</option>
              </select>
            </div>

          </div>
        </div>

        <div class="container mx-auto px-4 py-8">
          <!-- Résultats et tri -->
          <div class="mb-6 flex justify-between items-center">
            <div class="text-gray-600" id="results-count"></div>
            <div class="flex items-center gap-2">
              <label class="text-sm text-gray-600">Trier par:</label>
              <select id="sort-by" 
                class="rounded-lg border border-gray-300 py-2 px-4 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                <option value="price-asc">Prix croissant</option>
                <option value="price-desc">Prix décroissant</option>
                <option value="rating-desc">Meilleures notes</option>
                <option value="name-asc">Nom A-Z</option>
              </select>
            </div>
          </div>

          <!-- Grille de produits -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="products-grid">
            <div id="loading-indicator" class="col-span-full flex justify-center py-12">
              <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"></div>
            </div>
          </div>

          <!-- Pagination -->
          <div class="mt-8 flex justify-center" id="pagination"></div>
        </div>
      </div>
    </main>

    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="./assets/js/filters/BaseProductFilter.js"></script>
    <!-- <script src="./assets/js/filters/SmartphoneFilter.js"></script> -->
    <script src="./assets/js/filters/ComputerFilter.js"></script>
    <!-- <script src="./assets/js/filters/TabletFilter.js"></script> -->
    <script src="./assets/js/filters/ProductFilterFactory.js"></script>

    <script  src="./assets/js/category.js"></script>
    <script src="./assets/js/toastManager.js"></script>
    <script src="assets/js/scriptComponent.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="./assets/js/login.js"></script>
    <script src="./assets/js/header.js"></script>

    <!-- Initialisation -->
    <script>
      document.getElementById("reset-filters")?.addEventListener("click", () => {
        document.getElementById("min-price").value = "";
        document.getElementById("max-price").value = "";
        document.getElementById("manufacturer").value = "";
        document.getElementById("min-ram").value = "";
        document.getElementById("storage").value = "";
        document.getElementById("processor").value = "";
        document.getElementById("gpu").value = "";
        document.getElementById("usage").value = "";
        document.getElementById("screen-size").value = "";

        if (window.productFilter) {
          window.productFilter.loadProducts();
        }
      });

      document.getElementById("sort-by")?.addEventListener("change", (e) => {
        if (window.productFilter) {
          window.productFilter.sortProducts(e.target.value);
        }
      });
    </script>
  </body>
</html>