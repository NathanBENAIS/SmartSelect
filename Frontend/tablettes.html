<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartSelect - Smartphones</title>
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.css" rel="stylesheet" /> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#f0f9ff",
                100: "#e0f2fe",
                200: "#bae6fd",
                300: "#7dd3fc",
                400: "#38bdf8",
                500: "#0ea5e9",
                600: "#0284c7",
                700: "#0369a1",
                800: "#075985",
                900: "#0c4a6e",
              },
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50">
    <!-- Header sera chargé ici -->
    <div id="header-container"></div>
    <main>
      <div>
        <!-- Filtres -->
        <div class="mb-8 bg-white p-6 rounded-lg shadow-md" id="filters-container">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-gray-800">Filtres</h2>
                <button id="reset-filters" class="text-sm text-gray-600 hover:text-primary-600 transition-colors">
                    Réinitialiser les filtres
                </button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Prix -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Prix</label>
                    <div class="flex gap-2">
                        <div class="relative flex-1">
                            <span class="absolute inset-y-0 left-3 flex items-center text-gray-500">€</span>
                            <input type="number" id="min-price" placeholder="Min" 
                                class="w-full pl-8 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div class="relative flex-1">
                            <span class="absolute inset-y-0 left-3 flex items-center text-gray-500">€</span>
                            <input type="number" id="max-price" placeholder="Max" 
                                class="w-full pl-8 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        </div>
                    </div>
                </div>
                
                <!-- Marque -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Marque</label>
                    <select id="manufacturer" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Toutes les marques</option>
                    </select>
                </div>
        
                <!-- RAM -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">RAM</label>
                    <select id="min-ram" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Toutes les RAM</option>
                        <option value="4">4 Go</option>
                        <option value="6">6 Go</option>
                        <option value="8">8 Go</option>
                        <option value="12">12 Go</option>
                        <option value="16">16 Go</option>
                    </select>
                </div>
        
                <!-- Stockage -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Stockage</label>
                    <select id="storage" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Tout le stockage</option>
                        <option value="64">64 Go</option>
                        <option value="128">128 Go</option>
                        <option value="256">256 Go</option>
                        <option value="512">512 Go</option>
                        <option value="1024">1 To</option>
                    </select>
                </div>
        
                <!-- Taille d'écran -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Taille d'écran</label>
                    <select id="screen-size" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Toutes les tailles</option>
                        <option value="8">8" - 10"</option>
                        <option value="10">10" - 12"</option>
                        <option value="12">12" - 14"</option>
                        <option value="14">> 14"</option>
                    </select>
                </div>
        
                <!-- Connectivité -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Connectivité</label>
                    <select id="connectivity" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Toutes les connectivités</option>
                        <option value="wifi">Wi-Fi</option>
                        <option value="4g">4G</option>
                        <option value="5g">5G</option>
                    </select>
                </div>
        
                <!-- Type d'usage -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Type d'usage</label>
                    <select id="usage-type" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Tous les usages</option>
                        <option value="multimedia">Multimédia</option>
                        <option value="productivity">Productivité</option>
                        <option value="creativity">Créativité</option>
                    </select>
                </div>
        
                <!-- Système d'exploitation -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Système d'exploitation</label>
                    <select id="os" 
                        class="w-full rounded-lg border border-gray-300 py-2 px-4 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Tous les OS</option>
                        <option value="android">Android</option>
                        <option value="ipados">iPadOS</option>
                        <option value="windows">Windows</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="container mx-auto px-2 py-8">
          <!-- Résultats -->
          <div class="mb-6 flex justify-between items-center">
            <div class="text-gray-600" id="results-count">
              <!-- Sera rempli dynamiquement -->
            </div>
            <div class="flex items-center gap-2">
              <label class="text-sm text-gray-600">Trier par:</label>
              <select
                id="sort-by"
                class="rounded-lg border border-gray-300 py-2 px-4 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
              >
                <option value="price-asc">Prix croissant</option>
                <option value="price-desc">Prix décroissant</option>
                <option value="rating-desc">Meilleures notes</option>
                <option value="name-asc">Nom A-Z</option>
              </select>
            </div>
          </div>

          <!-- Grille de produits -->
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
            id="products-grid"
          >
            <!-- Les produits seront ajoutés ici dynamiquement -->
            <div
              id="loading-indicator"
              class="col-span-full flex justify-center py-12"
            >
              <div
                class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"
              ></div>
            </div>
          </div>

          <!-- Pagination -->
          <div class="mt-8 flex justify-center" id="pagination">
            <!-- Sera rempli dynamiquement -->
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <div id="footer-container"></div>
    <!-- Configuration globale -->

    <!-- Scripts -->
    <script src="./assets/js/filters/BaseProductFilter.js"></script>
    <script src="./assets/js/filters/SmartphoneFilter.js"></script>
    <script src="./assets/js/filters/ComputerFilter.js"></script>
    <script src="./assets/js/filters/TabletFilter.js"></script>
    <script src="./assets/js/filters/ProductFilterFactory.js"></script>

    <script src="./assets/js/category.js"></script>

    <!-- <script src="assets/js/category.js"></script> -->
    <script src="assets/js/scriptComponent.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="./assets/js/login.js"></script>
    <script src="./assets/js/header.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.js"></script> -->

    <!-- Initialisation -->
    <script>
        
      // Gestionnaire pour réinitialiser les filtres
      document
        .getElementById("reset-filters")
        ?.addEventListener("click", () => {
          document.getElementById("min-price").value = "";
          document.getElementById("max-price").value = "";
          document.getElementById("manufacturer").value = "";
          document.getElementById("min-ram").value = "";
          document.getElementById("storage").value = "";
          document.getElementById("screen-size").value = "";
          document.getElementById("connectivity").value = "";
          document.getElementById("usage-type").value = "";
          document.getElementById("os").value = "";

          // Déclencher le rechargement des produits
          if (window.productFilter) {
            window.productFilter.loadProducts();
          }
        });

      // Gestionnaire de tri
      document.getElementById("sort-by")?.addEventListener("change", (e) => {
        if (window.productFilter) {
          window.productFilter.sortProducts(e.target.value);
        }
      });

      
    </script>
  </body>
</html>
